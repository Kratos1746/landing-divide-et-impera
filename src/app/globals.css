@import "tailwindcss";

/* Colori di base (coerenti) */
:root {
  --background: #ffffff;
  --foreground: #0f172a; /* slate-900 */
}

/* Tailwind v4 theme tokens */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* Mappa i font (next/font -> CSS variables) */
  --font-sans: var(--font-inter);
  --font-serif: var(--font-source-serif);
  --font-mono: var(--font-geist-mono);
}

/* Se vuoi supportare dark-mode in futuro */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* Base typography */
html,
body {
  height: 100%;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system,
    Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
    "Segoe UI Emoji";
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* =========================
   Scroll reveal base (FIX SCATTI)
   - NON forziamo opacity:1 quando diventa visibile
   - l’opacity la gestisce l’animazione stessa
========================= */
.reveal {
  opacity: 0;
  will-change: transform, opacity;
}

/* IMPORTANT: niente opacity qui (evita jump su iOS/Android) */
.reveal.is-visible {
  /* no-op on purpose */
}

/* =========================
   Custom animations (unchanged keyframes)
========================= */

/* --- dot-1 / dot-2 / dot-3 --- */
@keyframes dot-1 {
  0%, 20% { opacity: 0.15; }
  30%, 100% { opacity: 1; }
}
@keyframes dot-2 {
  0%, 40% { opacity: 0.15; }
  50%, 100% { opacity: 1; }
}
@keyframes dot-3 {
  0%, 60% { opacity: 0.15; }
  70%, 100% { opacity: 1; }
}

/* --- fade-up --- */
@keyframes fade-up {
  0% { opacity: 0; transform: translate3d(0, 60px, 0); }
  100% { opacity: 1; transform: translate3d(0, 0, 0); }
}

/* --- fade-down --- */
@keyframes fade-down {
  0% { opacity: 0; transform: translate3d(0, -60px, 0); }
  100% { opacity: 1; transform: translate3d(0, 0, 0); }
}

/* --- fade-down-slow --- */
@keyframes fade-down-slow {
  0% { opacity: 0; transform: translate3d(0, -60px, 0); }
  100% { opacity: 1; transform: translate3d(0, 0, 0); }
}

/* --- fade-right --- */
@keyframes fade-right {
  0% { opacity: 0; transform: translate3d(-160px, 0, 0); }
  100% { opacity: 1; transform: translate3d(0, 0, 0); }
}

/* --- fade-in + soft scale (down) --- */
@keyframes fade-in-scale-down {
  0% {
    opacity: 0;
    transform: scale(0.885) translate3d(0, -22px, 0);
  }
  100% {
    opacity: 1;
    transform: scale(1) translate3d(0, 0, 0);
  }
}

/* --- fade-in + soft scale (up) --- */
@keyframes fade-in-scale-up {
  0% {
    opacity: 0;
    transform: scale(0.885) translate3d(0, 22px, 0);
  }
  100% {
    opacity: 1;
    transform: scale(1) translate3d(0, 0, 0);
  }
}

/* --- soft-pop --- */
@keyframes soft-pop {
  0% { opacity: 0; transform: scale(0.985); }
  100% { opacity: 1; transform: scale(1); }
}

/* --- float-slow --- */
@keyframes float-slow {
  0%, 100% { transform: translate3d(0, 0, 0); }
  50% { transform: translate3d(0, -6px, 0); }
}

/* --- CTA premium shine --- */
@keyframes cta-shine {
  0% {
    transform: translateX(-120%) skewX(-20deg);
    opacity: 0;
  }
  20% {
    opacity: 0.15;
  }

  50% {
    opacity: 0.20;
  }

  80% {
    opacity: 0.15;
  }
  100% {
    transform: translateX(120%) skewX(-20deg);
    opacity: 0;
  }
}

@keyframes cta-shine-delayed {
  /* Stato iniziale */
  0% {
    transform: translateX(-120%) skewX(-20deg);
    opacity: 0;
  }

  /* Inizio visibilità */
  10% {
    opacity: 0.15;
  }

  /* Picco shine */
  25% {
    opacity: 0.20;
  }

  /* Fine movimento (≈ 2s su 4s totali) */
  40% {
    transform: translateX(120%) skewX(-20deg);
    opacity: 0.15;
  }

  /* Fade out */
  50% {
    opacity: 0;
    transform: translateX(120%) skewX(-20deg);
  }

  /* PAUSA TOTALE */
  100% {
    opacity: 0;
    transform: translateX(120%) skewX(-20deg);
  }
}
.animate-cta-shine-delayed {
  animation: cta-shine-delayed 3000ms linear infinite;
  animation-delay: 700ms;
}


.animate-cta-shine {
  animation: cta-shine 2000ms cubic-bezier(.2,.8,.2,1) both;
}





/* =========================
   MOTION-SAFE (CSS)
   Mantiene DURATE/DELAY identici ai tuoi.
========================= */
@media (prefers-reduced-motion: no-preference) {

  .animate-dot-1 { animation: dot-1 1.4s infinite; }
  .animate-dot-2 { animation: dot-2 1.4s infinite; }
  .animate-dot-3 { animation: dot-3 1.4s infinite; }

  .animate-fade-up {
    animation: fade-up 1500ms cubic-bezier(.2,.8,.2,1) both;
    animation-delay: 400ms;
  }

  .animate-fade-down {
    animation: fade-down 1500ms cubic-bezier(.2,.8,.2,1) both;
    animation-delay: 400ms;
  }

  .animate-fade-down-slow {
    animation: fade-down-slow 1500ms cubic-bezier(.2,.8,.2,1) both;
    animation-delay: 500ms;
  }

  .animate-fade-right {
    animation: fade-right 2000ms cubic-bezier(.2,.8,.2,1) both;
    animation-delay: 400ms;
  }

  .animate-fade-in {
    animation: fade-in-scale-down 1000ms cubic-bezier(.2,.8,.2,1) both;
    animation-delay: 400ms;
    will-change: opacity, transform;
  }

  .animate-fade-in-up {
    animation: fade-in-scale-up 1000ms cubic-bezier(.2,.8,.2,1) both;
    animation-delay: 300ms;
    will-change: opacity, transform;
  }

  .animate-soft-pop {
    animation: soft-pop 700ms cubic-bezier(.2,.8,.2,1) both;
  }

  .animate-float-slow {
    animation: float-slow 6s ease-in-out infinite;
  }
}

/* =========================
   REDUCED MOTION fallback
   - niente elementi "invisibili"
========================= */
@media (prefers-reduced-motion: reduce) {
  .reveal {
    opacity: 1;
    transform: none !important;
  }

  .animate-dot-1,
  .animate-dot-2,
  .animate-dot-3,
  .animate-fade-up,
  .animate-fade-down,
  .animate-fade-down-slow,
  .animate-fade-right,
  .animate-fade-in,
  .animate-fade-in-up,
  .animate-soft-pop,
  .animate-float-slow,
  .animate-cta-shine-delayed {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}
